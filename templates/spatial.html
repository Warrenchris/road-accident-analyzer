{% extends "base.html" %}

{% block content %}
<div class="container">
    <h2>Spatial Analysis</h2>
    
    {% if results.has_coordinates > 0 %}
    <div class="alert alert-success">
        Found {{ results.has_coordinates }} locations with coordinates
    </div>
    {% else %}
    <div class="alert alert-warning">
        No geographic coordinates found in data
    </div>
    {% endif %}
    
    <div class="row">
        <div class="col-md-6">
            <h4>Accidents by County</h4>
            <ul class="list-group">
                {% for county, count in results.by_county.items() %}
                <li class="list-group-item">
                    {{ county }}: {{ count }}
                </li>
                {% endfor %}
            </ul>
        </div>
        <div class="col-md-6">
            <h4>Accidents by Road Type</h4>
            <ul class="list-group">
                {% for road_type, count in results.by_road_type.items() %}
                <li class="list-group-item">
                    {{ road_type }}: {{ count }}
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>
{% endblock %}